/*------------------------------------------------------
 Company:           Valentys Ltda.
 Author:            David Gaete <dmunozgaete@gmail.com> (https://github.com/dmunozgaete)
 
 Description:       Angular Material Components for Angular Gale
 Github:            https://github.com/dmunozgaete/angular-gale-material

 Versi√≥n:           1.0.0-rc.1
 Build Date:        2016-01-22 3:18:26
------------------------------------------------------*/


angular.module("gale-material.templates",[]).run(["$templateCache",function($templateCache){"use strict";$templateCache.put("gale-finder/directives/galeFinder.tpl.html",'<div class=finder><div class="close md-primary background" ng-click=close()><md-icon md-svg-icon=navigation:close></md-icon></div><table><tr><td class=icon><md-icon md-svg-icon=action:search></md-icon></td><td class=box><input ng-change=search(query) ng-model=query placeholder="{{placeholder}}"></td></tr></table><div ng-if=results class=results><div ng-repeat="item in results" ng-click=select(item) layout=row ng-mouseenter="activeIndex = $index" ng-mouseleave="activeIndex = -1" ng-class="{\'active\': $index == activeIndex}" layout-align="start center"><div flex=5 class=icon><div class=thumb><img ng-src="{{item.icon}}"></div></div><div flex class=name>{{item.name}}<div class=type>{{item.type}}</div></div></div></div><div ng-if="results && results.length > 0" class=footer>{{results.length}} resultados</div></div>'),$templateCache.put("gale-loading/directives/galeLoading.tpl.html",'<gale-center class="layout-row layout-align-start-center"><md-progress-circular class=md-hue-2 md-mode=indeterminate></md-progress-circular><gale-text></gale-text></gale-center>')}]),angular.manifiest("gale-material",["gale-material.templates","gale-material.components"],["gale","ngMaterial"]).config(["$mdThemingProvider",function($mdThemingProvider){setTimeout(function(){var toRGB=function(color){return color.value?(color=color.value,"rgb("+color[0]+","+color[1]+","+color[2]+")"):color},style=angular.element("<style></style>");document.head.appendChild(style[0]),stylesheet=style[0].sheet;var defaultTheme=function(){for(var name in $mdThemingProvider._THEMES)return name}(),palettes=["primary","accent","warn"];for(var i in palettes){var theme=palettes[i],palette=$mdThemingProvider._THEMES[defaultTheme].colors[theme].name,color=$mdThemingProvider._PALETTES[palette][500];stylesheet.insertRule(".md-"+theme+".text { color: "+toRGB(color)+" }",0),stylesheet.insertRule(".md-"+theme+".background { background-color: "+toRGB(color)+" }",0)}},100)}]),angular.module("gale-material.components").directive("galeFinder",function(){return{restrict:"E",scope:{onSearch:"=",onSelect:"=",placeholder:"@",minLength:"@",blockUi:"@"},templateUrl:"gale-finder/directives/galeFinder.tpl.html",controller:["$scope","$element","$log","$galeFinder","$window",function($scope,$element,$log,$galeFinder){var self={},minLength=$scope.minLength||3,onSearch=$scope.onSearch,onSelect=$scope.onSelect,blockUi=$scope.blockUi?"true"===$scope.blockUi?!0:!1:!0,body=angular.element(document.body),blocker=null;onSearch||$log.error("undefined 'onSearch' for finder component"),onSelect||$log.error("undefined 'onSelect' for finder component"),$scope.search=function(query){if($scope.activeIndex=0,query.length>=minLength){var promise=onSearch(query);angular.isArray(promise)?$scope.results=items:promise.then(function(items){$scope.results=items})}else $scope.results=[]},$scope.select=function(item){var ret=onSelect(item);ret&&self.hide()},$scope.close=function(){self.hide()},self.hide=function(){$element.removeClass("show"),$scope.query="",$scope.results=[],$scope.activeIndex=0,blocker&&blocker.remove()},self.show=function(){blockUi&&(blocker=angular.element('<md-backdrop class="md-sidenav-backdrop md-opaque ng-scope md-default-theme"></md-backdrop>'),body.append(blocker)),$element.addClass("show"),$element.find("input").focus()},$galeFinder.$$register(self),$scope.$on("$destroy",function(){$galeFinder.$$unregister()});var keys=[];keys.push({code:13,action:function(){if($scope.results.length>0&&$scope.activeIndex>=0){var item=$scope.results[$scope.activeIndex];$scope.select(item)}}}),keys.push({code:38,action:function(){$scope.activeIndex--}}),keys.push({code:40,action:function(){$scope.activeIndex++}}),keys.push({code:27,action:function(){self.hide()}}),$element.bind("keydown",function(event){keys.forEach(function(o){o.code===event.keyCode&&o.action()}),event.stopPropagation()})}],link:function(){}}}),angular.module("gale-material.components").factory("$galeFinder",["$q","$rootScope",function(){var self=this,_component=null,_get=function(){if(!_component)throw{message:"no finder has found"};return _component};return self.$$register=function(component){_component=component},self.$$unregister=function(){_component=null},self.show=function(){return _get().show()},self.hide=function(){return _get().hide()},self}]),angular.module("gale-material.components").directive("galeCenter",function(){return{restrict:"E",require:"^galeLoading",scope:{},controller:["$scope","$element","$log",function(){}],link:function(){}}}),angular.module("gale-material.components").directive("galeLoading",function(){return{restrict:"E",scope:{defaultMessage:"@"},templateUrl:"gale-loading/directives/galeLoading.tpl.html",controller:["$scope","$element","$log","$galeLoading",function($scope,$element,$log,$galeLoading){var self={},defaultMesasage=$scope.defaultMessage||"";self.hide=function(){$element.removeClass("show")},self.show=function(message){$element.addClass("show");var elm=$element.find("gale-text");elm.html(message?message:defaultMesasage)},$galeLoading.$$register(self),$scope.$on("$destroy",function(){$galeLoading.$$unregister()})}],link:function(scope,element){element.addClass("layout-row"),element.addClass("layout-align-center-center")}}}),angular.module("gale-material.components").factory("$galeLoading",["$q","$rootScope",function($q){var self=this,_component=null,deferred=$q.defer(),resolved=!1,_get=function(){if(!_component)throw{message:"no gale-loading has found"};return _component};return self.$$register=function(component){_component=component,resolved=!0,deferred.resolve()},self.$$unregister=function(){_component=null,resolved=!1,deferred=$q.defer()},self.show=function(message){return resolved?_get().show(message):void deferred.promise.then(function(){self.show(message)})},self.hide=function(){return _get().hide()},self}]),angular.module("gale-material.components").directive("galePage",function(){return{restrict:"E",scope:{title:"@",onKeydown:"="},controller:["$scope","$element","$attrs",function($scope){var $window=angular.element(window),onKeyDown=$scope.onKeydown;onKeyDown&&$window.on("keydown",function(event){onKeyDown(event,event.keyCode)}),$scope.$on("$destroy",function(){$window.off("keydown")})}],link:function(scope){scope.$emit("gale-page:title:changed",{title:scope.title||" "})}}});
//# sourceMappingURL=angular-gale-material.min.js.map